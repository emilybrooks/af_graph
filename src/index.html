<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width"/>
    <title>Animal Forest Decompilation</title>
    <link rel="stylesheet" href="dist/uPlot.min.css">
    <link rel="stylesheet" href="style.css">
    <link id="season" rel="stylesheet" href="">
    <link rel="icon" type="image/png" href="assets/logo.png"/>
</head>
<body>
<script src="dist/uPlot.iife.js"></script>

<ul class="navBar">
    <li><a id="titleLink" href="index.html"><img id="logo" src="assets/logo.png">Animal Forest Decompilation</a></li>
    <li><a class="extraLink" href="https://github.com/zeldaret/af/">GitHub</a></li>
    <li><a class="extraLink" href="https://zelda64.dev/">ZeldaRET</a></li>
    <li><a class="extraLink" href="https://discord.com/invite/DqwyCBYKqf/">Discord</a></li>

    <li><img src="assets/grass_winter.png" class="seasonLink" onclick="changeSeason('winter.css')"></li>
    <li><img src="assets/grass_autumn.png" class="seasonLink" onclick="changeSeason('autumn.css')"></li>
    <li><img src="assets/grass_summer.png" class="seasonLink" onclick="changeSeason('summer.css')"></li>
    <li><img src="assets/grass_spring.png" class="seasonLink" onclick="changeSeason('spring.css')"></li>
    <!-- <li id="themeButton"><a class="extraLink">Theme</a>
    <div id="themeDropdownContents">
        <ul class="themeList">
            <li><a onclick="changeSeason('spring.css')">Spring</a></li>
            <li><a onclick="changeSeason('summer.css')">Summer</a></li>
            <li><a onclick="changeSeason('autumn.css')">Autumn</a></li>
            <li><a onclick="changeSeason('winter.css')">Winter</a></li>
        </ul>
    </div> -->
    </li>
    <li><button id="hamburger" onclick="toggleHamburger()">Menu</button></li>
</ul>

<ul id="hamburgerContents" class="hamburgerClosed">
    <li><a href="https://github.com/zeldaret/af/">GitHub</a></li>
    <li><a href="https://zelda64.dev/">ZeldaRET</a></li>
    <li><a href="https://discord.com/invite/DqwyCBYKqf/">Discord</a></li>
    <li id="seasonsHamburger">
        <img src="assets/grass_winter.png" onclick="changeSeason('winter.css')">
        <img src="assets/grass_autumn.png" onclick="changeSeason('autumn.css')">
        <img src="assets/grass_summer.png" onclick="changeSeason('summer.css')">
        <img src="assets/grass_spring.png" onclick="changeSeason('spring.css')">
    </li>
</ul>

<div id="wrapper">
    <!-- <div class="description">
        <h2>What is this?</h2>
        <p>A reverse engineering project to decompile Animal Forest into human-readable and modifiable source code.</p>
    </div> -->
    
    <div id="codeGraph" class="progressGraph">
    <!-- <p id="lastUpdated">Last updated:</p> -->
    <h2>Decompilation Progress</h2>
        <p class="progressTotalPercent" id="codeProgressTotal"></p>
        <table class="progressTable">
        <tr>
            <td>Boot</td>
            <td class="percent" id="codeProgressBoot"></td>
        </tr>
        <tr>
            <td>Code</td>
            <td class="percent" id="codeProgressCode"></td>
        </tr>
        <tr>
            <td>Overlays</td>
            <td class="percent" id="codeProgressOverlays"></td>
        </tr>
        </table>
    </div>
    <div id="assetGraph" class="progressGraph">
        <h2>Asset Analysis Progress</h2>
        <div class="progressStats">
            <p class="progressTotalPercent" id="assetProgressTotal"></p>
            <table class="progressTable">
                <tr>
                    <td>Objects</td>
                    <td class="percent" id="assetProgressObjects"></td>
                </tr>
                <tr><td class="percentPlaceholder">&nbsp;</td></td>
                <tr><td class="percentPlaceholder">&nbsp;</td></td>
            </table>
        </div>
    </div>
    
    <div class="faq">
        <h2>What is this?</h2>
        
        <div class="faqAnswer">
        <p>A reverse engineering project to decompile Animal Forest into human-readable and modifiable source code.</p>
        </div>

        <h2>What exactly is Animal Forest?</h2>

        <div class="faqAnswer">
        <p>It's an N64 game that was only released in Japan, it was later ported to the GameCube and localized as Animal Crossing. Animal Forest is a literal translation of it's Japanese name, Doubutsu no Mori.<p>
        <p>There were many different versions released across multiple platforms and regions, each with significant changes:</p>
        <ul>
            <li>Apr. 2001 - Doubutsu no Mori (N64, Japan)</li>
            <li>Dec. 2001 - Doubutsu no Mori + (GameCube port, Japan)</li>
            <li>Sep. 2002 - Animal Crossing (English localization, USA/Canada)</li>
            <li>Jun. 2003 - Doubutsu no Mori e+ (Japanese release of the localization)</li>
            <li>Oct. 2003 - Animal Crossing (Australian release)</li>
            <li>Sep. 2004 - Animal Crossing (European release)</li>
            <li>Jun. 2006 - Dongwu Senlin (iQue, Chinese localization)</li>
        </ul>

        <p>There is <a href="https://github.com/Prakxo/ac-decomp/">another project</a> that is working on the English GameCube version.</p>
        </div>

        <h2>Can this be used for modding?</h2>

        <div class="faqAnswer">
        <p>In the future, yes! However the project is still in it's early stages and there are currently some obstacles that limit what can be modified.</p>
        </div>
        
        <h2>Why is this a part of ZeldaRET?</h2>

        <div class="faqAnswer">
        <p>Animal Forest is built off the same codebase as Ocarina of Time and Majora's Mask, and contributors from those projects were interested in working on it.</p>
        </div>
        
        <h2>What language was Animal Forest written in?</h2>

        <div class="faqAnswer">
        <p>Animal Forest was originally written in C using the C89 standard, and compiled to MIPS assembly language.</p>
        </div>

        <h2>What compiler did it use?</h2>
        
        <div class="faqAnswer">
        <p>IRIS Development Option (IDO) 7.1</p>
        </div>

        <h2>What is asset analysis?</h2>
        
        <div class="faqAnswer">
        <p>N64 ROMs have no filesystem, and everything is statically linked together. This includes assets such as textures, vertices, display lists, and animations, which were all compiled into unlabeled blobs of data. In order to extract assets into human-readable formats, we need to document what this data contains.</p>
        </div>
    </div>
</div>

<!-- <script src="progress.js"></script> -->
<script>
function toggleHamburger()
{
    var menu = document.getElementById("hamburgerContents");
    if (menu.className === "hamburgerClosed")
    {
        menu.className = "hamburgerOpen";
    }
    else
    {
        menu.className = "hamburgerClosed";
    }
}

function changeSeason(stylesheet)
{
    var season = document.getElementById('season');
    season.href = stylesheet;
}

let month = new Date().getMonth();
switch(month)
{
    case 11:
    case 0:
    case 1:
        changeSeason('winter.css');
        break;
    case 2:
    case 3:
    case 4:
        changeSeason('spring.css');
        break;
    case 5:
    case 6:
    case 7:
        changeSeason('summer.css');
        break;
    case 8:
    case 9: 
    case 10:
        changeSeason('autumn.css');
        break;
    break;
}
</script>

</body>
</html>
